////////////////////////////////////////////////////////////////////////////////////////
// OVERVIEW
////////////////////////////////////////////////////////////////////////////////////////
/*
DESCRIPTION: Analog Joystick demo code.
*/


////////////////////////////////////////////////////////////////////////////////////////
// INCLUDES 
////////////////////////////////////////////////////////////////////////////////////////

#include <Arduino.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <math.h>

using namespace std;

////////////////////////////////////////////////////////////////////////////////////////
// PROTOTYPES
////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////
// DEFINES AND MACROS
////////////////////////////////////////////////////////////////////////////////////////

// pin definitions for analog joystick
const int analogJoystick_Pin_X  = A0;   // 14
const int analogJoystick_Pin_Y  = A1;   // 15
const int analogJoystick_Pin_SW = PD2;  // 2

////////////////////////////////////////////////////////////////////////////////////////
// STRUCTS AND CLASSES
////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////
// GLOBALS
////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////
// FUNCTIONS
////////////////////////////////////////////////////////////////////////////////////////

void setup() 
{
// the setup function runs once when you press reset or power the board  

// initialize serial port
Serial.begin(115200);
Serial.write( "\n\rSetup.\n\r" );

// initialize pin directions
pinMode(analogJoystick_Pin_X,  INPUT);
pinMode(analogJoystick_Pin_Y,  INPUT);
pinMode(analogJoystick_Pin_SW, INPUT_PULLUP);

} // end setup

////////////////////////////////////////////////////////////////////////////////////////

void loop() 
{
// print something...
//Serial.write( "\n\rLoop..." );

// read analog voltages and button state
int analogJoystick_X  = analogRead( analogJoystick_Pin_X );
int analogJoystick_Y  = analogRead( analogJoystick_Pin_Y );
int analogJoystick_SW = digitalRead( analogJoystick_Pin_SW );

// print out the results
static char stringBuffer[ 64 ];
sprintf( stringBuffer, "\n\rX = %d, Y = %d, Button = %d", analogJoystick_X, analogJoystick_Y, analogJoystick_SW );

Serial.write( stringBuffer );
  
// pause a moment
delay( 100 );

} // end loop

////////////////////////////////////////////////////////////////////////////////////////
